/* Unified Lab Visual animation system. Uses --lv-speed and --lv-glow (set by .lvIdle). */

.frame {
  width: 100%;
  height: 100%;
  max-height: 140px;
  object-fit: contain;
}

.grid {
  stroke: rgba(37, 99, 235, 0.05);
  pointer-events: none;
}

/* ---- Keyframes (durations use --lv-speed for hover ramp) ---- */

@keyframes lvBeam {
  0% { transform: translateX(-5%); opacity: 0.85; }
  15% { opacity: 1; }
  85% { opacity: 1; }
  100% { transform: translateX(105%); opacity: 0.85; }
}

@keyframes lvDashDraw {
  0% { stroke-dashoffset: 500; }
  100% { stroke-dashoffset: 0; }
}

@keyframes lvPulseNode {
  0%, 100% { opacity: 0.85; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.08); }
}

@keyframes lvPulseRing {
  0%, 100% { opacity: 0.5; transform: scale(1); }
  50% { opacity: 0.85; transform: scale(1.03); }
}

@keyframes lvOrbit {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes lvFloat {
  0%, 100% { transform: translateY(0); opacity: 0.6; }
  50% { transform: translateY(-4px); opacity: 0.9; }
}

@keyframes lvScan {
  0% { transform: translateX(-8%); opacity: 0.8; }
  50% { opacity: 1; }
  100% { transform: translateX(108%); opacity: 0.8; }
}

@keyframes lvRise {
  0% { transform: translateY(10%); opacity: 0.7; }
  100% { transform: translateY(-110%); opacity: 1; }
}

/* ---- Classes (duration = calc(Xs / var(--lv-speed)), default --lv-speed: 1) ---- */

.lvBeam {
  animation: lvBeam calc(2.8s / var(--lv-speed, 1)) cubic-bezier(0.4, 0, 0.2, 1) infinite;
}

.lvDashDraw {
  animation: lvDashDraw calc(2.4s / var(--lv-speed, 1)) cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.lvNode {
  animation: lvPulseNode calc(2.6s / var(--lv-speed, 1)) cubic-bezier(0.4, 0, 0.2, 1) infinite;
}

.lvRing {
  animation: lvPulseRing calc(2.2s / var(--lv-speed, 1)) cubic-bezier(0.4, 0, 0.2, 1) infinite;
}

.lvOrbit {
  animation: lvOrbit calc(6s / var(--lv-speed, 1)) linear infinite;
}

.lvScan {
  animation: lvScan calc(2.6s / var(--lv-speed, 1)) cubic-bezier(0.4, 0, 0.2, 1) infinite;
}

.lvParticle {
  animation: lvFloat calc(3.5s / var(--lv-speed, 1)) cubic-bezier(0.4, 0, 0.2, 1) infinite;
}

.lvRise {
  animation: lvRise calc(3s / var(--lv-speed, 1)) cubic-bezier(0.4, 0, 0.2, 1) infinite;
}

@media (prefers-reduced-motion: reduce) {
  .lvBeam,
  .lvDashDraw,
  .lvNode,
  .lvRing,
  .lvOrbit,
  .lvScan,
  .lvParticle,
  .lvRise {
    animation: none;
  }
}
